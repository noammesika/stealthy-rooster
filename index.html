<!DOCTYPE html>
<html>
<head>
    <title>Stealthy Rooster - by Noam Mesika</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #87CEEB; font-family: sans-serif; text-align: center; }
        canvas { display: block; background: #e0e0e0; margin: 0 auto; border-bottom: 5px solid #555; }
        #ui { position: absolute; top: 10px; width: 100%; color: white; text-shadow: 2px 2px 4px #000; pointer-events: none; }
        .lang-btns { position: absolute; top: 80px; width: 100%; pointer-events: auto; }
        .controls { position: fixed; bottom: 20px; width: 100%; display: flex; justify-content: space-around; pointer-events: auto; }
        button { padding: 10px; margin: 5px; border-radius: 5px; border: none; background: rgba(0,0,0,0.6); color: white; cursor: pointer; }
        .ctrl-btn { width: 80px; height: 80px; border-radius: 50%; font-size: 18px; font-weight: bold; }
    </style>
</head>
<body>

<div id="ui">
    <h1 id="gameTitle">Stealthy Rooster</h1>
    <p>By Noam Mesika</p>
    <div id="scoreDisplay">Score: 0</div>
</div>

<div class="lang-btns">
    <button onclick="setLanguage('en')">English</button>
    <button onclick="setLanguage('he')">עברית</button>
    <button onclick="setLanguage('ar')">العربية</button>
    <button onclick="setLanguage('ru')">Русский</button>
</div>

<canvas id="gameCanvas"></canvas>

<div class="controls">
    <button class="ctrl-btn" id="jumpBtn">UP</button>
    <button class="ctrl-btn" id="crouchBtn">DOWN</button>
</div>

<script>
    const translations = {
        en: { title: "Stealthy Rooster", score: "Score: ", up: "UP", down: "DOWN" },
        he: { title: "תרנגול חמקן", score: "ניקוד: ", up: "קפוץ", down: "התכופף" },
        ar: { title: "الديك الخفي", score: "نتيجة: ", up: "قفز", down: "انحناء" },
        ru: { title: "Скрытный петух", score: "Счет: ", up: "Прыжок", down: "Присесть" }
    };

    function setLanguage(l) {
        document.getElementById('gameTitle').innerText = translations[l].title;
        document.getElementById('jumpBtn').innerText = translations[l].up;
        document.getElementById('crouchBtn').innerText = translations[l].down;
        currentLang = l;
    }

    let currentLang = 'en';
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight * 0.6;

    let score = 0;
    let gameSpeed = 5;
    let isGameOver = false;
    let rooster = { x: 50, y: canvas.height - 60, w: 40, h: 50, dy: 0, jumpForce: -12, gravity: 0.6, isCrouching: false };
    let obstacles = [];

    function update() {
        if (isGameOver) return;
        rooster.dy += rooster.gravity;
        rooster.y += rooster.dy;
        if (rooster.y > canvas.height - (rooster.isCrouching ? 25 : 50)) {
            rooster.y = canvas.height - (rooster.isCrouching ? 25 : 50);
            rooster.dy = 0;
        }

        obstacles.forEach((obs, i) => {
            obs.x -= gameSpeed;
            if (rooster.x < obs.x + obs.w && rooster.x + rooster.w > obs.x &&
                rooster.y < obs.y + obs.h && rooster.y + (rooster.isCrouching ? 25 : 50) > obs.y) {
                isGameOver = true;
                alert("Game Over! Score: " + Math.floor(score/10));
                location.reload();
            }
        });

        score++;
        if (score % 250 === 0) gameSpeed += 0.5;
        if (Math.random() < 0.02) obstacles.push({ x: canvas.width, y: Math.random() > 0.5 ? canvas.height - 30 : canvas.height - 80, w: 30, h: 30 });
        
        document.getElementById('scoreDisplay').innerText = translations[currentLang].score + Math.floor(score/10);
        draw();
        requestAnimationFrame(update);
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "orange";
        ctx.fillRect(rooster.x, rooster.y, rooster.w, rooster.isCrouching ? 25 : 50);
        ctx.fillStyle = "red";
        obstacles.forEach(obs => ctx.fillRect(obs.x, obs.y, obs.w, obs.h));
    }

    document.getElementById('jumpBtn').onmousedown = () => { if(rooster.dy === 0) rooster.dy = rooster.jumpForce; };
    document.getElementById('crouchBtn').onmousedown = () => { rooster.isCrouching = true; };
    document.getElementById('crouchBtn').onmouseup = () => { rooster.isCrouching = false; };
    
    update();
</script>
</body>
</html>
